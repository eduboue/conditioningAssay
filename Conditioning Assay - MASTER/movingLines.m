function movingLines(wPtr,speed,direction,wDim)
    if direction == -1
        for i=-20:speed:20
            Screen('FillRect',wPtr,[255 255 255])
            Screen('FillRect',wPtr,[0 0 0],[-40+i 0 -20+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[0+i 0 20+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[40+i 0 60+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[80+i 0 100+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[120+i 0 140+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[160+i 0 180+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[200+i 0 220+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[240+i 0 260+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[280+i 0 300+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[320+i 0 340+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[360+i 0 380+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[400+i 0 420+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[440+i 0 460+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[480+i 0 500+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[520+i 0 540+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[560+i 0 580+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[600+i 0 620+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[640+i 0 660+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[680+i 0 700+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[720+i 0 740+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[760+i 0 780+i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[800+i 0 820+i wDim(4)])
            Screen('Flip',wPtr)
        end
    elseif direction == 1
        for i=-20:speed:20
            Screen('FillRect',wPtr,[255 255 255])
            Screen('FillRect',wPtr,[0 0 0],[-40-i 0 -20-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[0-i 0 20-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[40-i 0 60-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[80-i 0 100-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[120-i 0 140-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[160-i 0 180-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[200-i 0 220-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[240-i 0 260-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[280-i 0 300-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[320-i 0 340-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[360-i 0 380-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[400-i 0 420-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[440-i 0 460-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[480-i 0 500-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[520-i 0 540-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[560-i 0 580-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[600-i 0 620-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[640-i 0 660-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[680-i 0 700-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[720-i 0 740-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[760-i 0 780-i wDim(4)])
            Screen('FillRect',wPtr,[0 0 0],[800-i 0 820-i wDim(4)])
            Screen('Flip',wPtr)
        end
    end
end